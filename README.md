This repository contains an implementation example of an abstract logger in a C++ library.

**Table of contents :**
- [1. Requirements](#1-requirements)
  - [1.1. C++ Standards](#11-c-standards)
  - [1.2. Dependencies](#12-dependencies)
- [2. How to use](#2-how-to-use)
  - [2.1. Usage inside library](#21-usage-inside-library)
  - [2.2. Set logger for users of the library](#22-set-logger-for-users-of-the-library)
- [3. Documentation](#3-documentation)
- [4. License](#4-license)

# 1. Requirements
## 1.1. C++ Standards

Implementation example requires at least **C++ 11** standard

## 1.2. Dependencies

No dependencies needed

# 2. How to use

This repository contains an example of an **Abstract logger** that can be useful when developping a library. This allow to **not be** tied to a specific log dependency/api, allowing users to choose their own (_[spdlog][repo-spdlog], [glog][repo-glog], etc..._).  

> [!TIP]
> If needed, a [library template][repo-template-lib] repository also exist to help for the library creation

## 2.1. Usage inside library

**Abstract Logger** behaviour can be found inside folder [lib/logs][lib-logs-details], some _tweaks_ are needed and directly dependant to developped library:
- Set proper namespace in all **3 classes**(in our example, _libra_ is the name of our library)
- Set log macros names (replace `#define LIBRA_LOG_FATAL(msg)` by `YOURLIBNAME_LOG_FATAL(msg)`)

That is all, now to you use log, caller just need to call proper macro (example can be found inside mock class [Person][lib-mock-person]).

> [!TIP]
> For easier integration, a single pair _header/source_ exists at [lib/logs_single_file][lib-logs-single] folder

## 2.2. Set logger for users of the library

By default, no logs will be printed or written, users of library must explicitly define a class which inherit from `ILogger` class.  
This repository provide some examples of `ILogger` subclasses inside [example/sinks][app-sinks]:
- [Logger Qt][app-sink-qt]: subclass implementation to be compatible with Qt logging behaviour

# 3. Documentation

All methods has been documented with [Doxygen][doxygen-official] utility, documentation can be generated by using:
```shell
# Run documentation generation
doxygen ./Doxyfile

# Under Windows OS, maybe doxygen is not added to the $PATH
"C:\Program Files\doxygen\bin\doxygen.exe" ./Doxyfile
```
> **Note:** You can also load the _Doxyfile_ into _Doxywizard_ (Doxygen GUI) and run generation.

# 4. License

This library is licensed under [MIT license][repo-license].

<!-- Links of this repository -->
[repo-license]: LICENSE
[lib-logs-details]: lib/logs_details/
[lib-logs-single]: lib/logs_single_file/
[lib-mock-person]: lib/mock/person.cpp
[app-sinks]: example/sinks/
[app-sink-qt]: example/sinks/loggerqt.h

<!-- External links -->
[doxygen-official]: https://www.doxygen.nl/index.html
[repo-template-lib]: https://github.com/legerch/library-template
[repo-spdlog]: https://github.com/gabime/spdlog
[repo-glog]: https://github.com/google/glog

[qt-official]: https://www.qt.io/
[qt-installer]: https://www.qt.io/download-qt-installer

[vcpkg-tutorial]: https://github.com/legerch/develop-memo/tree/master/Toolchains/Build%20systems/VCPKG